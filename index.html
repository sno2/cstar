<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      CSTAR | Streamlining astrology to find location without GPS or Internet
    </title>
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" type="image/png" href="/images/CSTAR-128x128.png" />
  </head>
  <body class="bg-gray-900 text-slate-100 p-4 min-h-screen flex flex-col">
    <header class="pb-6 border-slate-600 border-b flex justify-between">
      <div>
        <h1 class="text-6xl font-bold mt-3 flex items-center">
          <span>CSTAR</span>
          <img
            src="/images/CSTAR-transparent.png"
            class="inline-block ml-4 md:ml-6 w-auto h-[4rem] md:h-[5.5rem]"
          />
        </h1>
        <h2 class="md:text-xl text-slate-200 mt-3 leading-tight closed">
          Streamlining astronomy to find location without GPS or Internet
        </h2>
      </div>
      <aside class="overflow-hidden hidden md:block">
        <nav
          id="teleporter"
          class="relative h-full grid grid-cols-2 gap-4 [&>button]:block [&>button] [&>button]:px-3 [&>button]:bg-slate-600 [&>button:hover]:bg-slate-700 [&>button]:rounded-lg"
        >
          <button id="teleporter-button">
            ‚Üê &nbsp;Enable teleportation ü§ñ
          </button>
          <button id="ames-ia">Ames, IA</button>
          <button id="new-york">New York, NY</button>
          <button id="amboseli">Amboseli National Park</button>
          <button id="kyiv">Kyiv, Ukraine</button>
        </nav>
      </aside>
    </header>
    <main class="flex-1">
      <form id="form" class="mt-6 md:text-lg">
        <label for="polarAngle">
          <div class="mr-2 md:inline-block mb-2">Polar angle (degrees):</div>
          <input
            name="polarAngle"
            type="number"
            step="any"
            class="bg-slate-700 stroke-slate-950 p-2 rounded-lg mono"
            placeholder="42.025811"
            required
          />
        </label>
        <button
          type="button"
          id="angle-helper-button"
          class="ml-2 bg-green-600 transition hover:bg-green-700 p-2 rounded-lg"
        >
          üìê
        </button>
        <label for="solarNoon" class="block py-4">
          <div class="mr-2 md:inline-block mb-2">Solar noon:</div>
          <input
            name="solarNoon"
            type="time"
            class="bg-slate-700 p-2 rounded-lg mono"
            required
          />
        </label>
        <div>
          <input
            type="submit"
            class="mt-4 inline-block bg-blue-500 py-2 px-3 rounded-lg text-slate-100 hover:bg-blue-600 transition cursor-pointer"
            value="Help find me üîé"
          />
          <button
            id="tutorial-button"
            type="button"
            class="inline-block ml-4 px-3 py-2 border border-slate-600 text-slate-300 rounded-lg"
          >
            How do I use this?
          </button>
        </div>
      </form>
      <a
        id="output"
        href="#"
        target="_blank"
        class="hidden mt-8 bg-green-700 inline-block p-3 rounded-lg max-w-xl border-slate-600"
      >
        <h2 class="text-2xl font-bold">
          <span id="latitude"></span><span id="longitude" class="pl-4"></span>
        </h2>
      </a>
      <aside
        id="tutorial"
        class="hidden mt-8 bg-slate-700 inline-block p-3 rounded-lg max-w-xl"
      >
        <p>
          The <span class="font-bold underline">polar angle</span> is the
          distance in degrees from the horizon to Polaris, the North Star. Find
          Polaris by locating the big dipper and following the two stars at the
          end of the cup to the North Star. We advise using your phone's
          accelerometer to calculate this angle.
        </p>

        <p class="mt-2">
          The <span class="font-bold underline">solar noon</span> is the time in
          your timezone when the Sun is directly above your location. It would
          be best to look this up for your location before setting out on your
          offline travels. However, it can be obtained anywhere by placing a
          stick (or an object of similar shape) into the ground. Now, the time
          at which the stick does not have a shadow is the
          <span class="font-bold underline">solar noon</span>.
        </p>
      </aside>
    </main>
    <footer class="pt-4">
      <h3 class="text-slate-400 text-sm md:text-lg">
        Made with üíì by Jacob Duba, Carter Snook, and Thomas Daniels
        <a
          href="https://github.com/sno2/sextant"
          target="_blank"
          class="underline"
          >in public</a
        >.
      </h3>
    </footer>
    <div
      id="camera-modal"
      class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full bg-slate-900 bg-opacity-90"
    >
      <div class="relative p-4 w-full max-w-md max-h-full">
        <div class="relative rounded-lg shadow bg-slate-500 pb-4">
          <div id="the-red-dot"></div>
          <video
            id="camera-video-element"
            class="rounded-t-lg pointer-events-none"
            playsinline
            preload
            muted
            loop
          ></video>
          <button
            type="button"
            id="save-angle-button"
            class="mx-auto mt-4 block bg-blue-500 py-2 px-3 rounded-lg text-slate-100 hover:bg-blue-600 transition cursor-pointer"
          >
            Save angle
          </button>
        </div>
      </div>
    </div>
    <script type="module" src="./index.js"></script>
  </body>
</html>
